(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),l=c(9),s=c.n(l),a=(c(7),c(8),c(15),c(3)),i=c(2),r=c(10),u=o.a.createContext(),j=c(0),d=function(){var e=Object(n.useContext)(u),t=e.setTodos,c=e.todos,o=e.setInputText,l=e.inputText;return Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),t([].concat(Object(r.a)(c),[{id:(new Date).toLocaleTimeString(),title:l,complete:!1}])),o("")},children:Object(j.jsx)("input",{type:"text",className:"new-todo",value:l,placeholder:"What needs to be done?",onChange:function(e){o(e.target.value)}})})},b=function(e){var t=e.item,c=(e.isChecked,Object(n.useContext)(u)),o=c.setTodos,l=c.todos,s=c.getChangeTitle,r=Object(n.useState)(""),d=Object(i.a)(r,2),b=d[0],f=d[1],O=Object(n.useState)(!1),m=Object(i.a)(O,2),h=m[0],p=m[1],x=function(e){e.preventDefault(),s(t.id,b),p(!1)};return Object(j.jsxs)("li",{className:"\n        ".concat(h?"editing":"","\n        ").concat(t.complete?"completed":"","\n      "),children:[Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{type:"checkbox",name:"check",checked:t.complete,className:"toggle",id:"toggle-view",onChange:function(){o(l.map((function(e){return e.id===t.id?Object(a.a)(Object(a.a)({},e),{},{complete:!e.complete}):e})))}}),Object(j.jsx)("label",{htmlFor:"toggle-view",onDoubleClick:function(e){p(!0)},children:t.title}),Object(j.jsx)("button",{type:"button",className:"destroy",onClick:function(){o(l.filter((function(e){return e.id!==t.id})))}})]}),Object(j.jsx)("input",{type:"text",className:"edit",value:b,id:"".concat(t.id),onChange:function(e){f(e.target.value)},onBlur:function(e){x(e)},onKeyDown:function(e){!function(e){switch(e.key){case"Enter":x(e);break;case"Escape":case"Esc":p(!1),f(t.title)}}(e)}})]},t.id)},f=function(){var e=Object(n.useContext)(u),t=e.filterTodos,c=e.todos,o=e.setTodos,l=Object(n.useState)(!1),s=Object(i.a)(l,2),r=s[0],d=s[1];return Object(n.useEffect)((function(){o(c.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{complete:r})})))}),[r]),Object(j.jsxs)(j.Fragment,{children:[c.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:function(){d(!r)}}),Object(j.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"})]}),Object(j.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(j.jsx)(b,{item:e},e.id)}))})]})},O=function(e){var t=e.setFilterStatus,c=e.clearCompleted,o=Object(n.useState)([]),l=Object(i.a)(o,2),s=l[0],a=l[1],r=Object(n.useContext)(u).todos;return Object(n.useEffect)((function(){a(r.filter((function(e){return!e.complete})))}),[r]),Object(j.jsxs)(j.Fragment,{children:[s.length>0&&Object(j.jsxs)("span",{className:"todo-count",children:[s.length," ","items left"]}),Object(j.jsxs)("ul",{className:"filters",children:[Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/",className:"selected",onClick:function(){return t("all")},children:"All"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/active",onClick:function(){return t("active")},children:"Active"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/completed",onClick:function(){return t("completed")},children:"Completed"})})]}),s.length!==r.length&&Object(j.jsx)("button",{type:"button",className:"clear-completed",onClick:c,children:"Clear completed"})]})};var m=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],o=t[1],l=Object(n.useState)("all"),s=Object(i.a)(l,2),r=s[0],b=s[1],m=Object(n.useState)([]),h=Object(i.a)(m,2),p=h[0],x=h[1];Object(n.useEffect)((function(){null===localStorage.getItem("todos")&&localStorage.setItem("todos",JSON.stringify([])),x(JSON.parse(localStorage.getItem("todos")))}),[]),Object(n.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(p))}),[p]);var g=Object(n.useCallback)((function(e,t){x((function(c){return c.map((function(c){return c.id===e&&t.length>0?Object(a.a)(Object(a.a)({},c),{},{title:t}):c}))}))}),[]),v=Object(n.useMemo)((function(){switch(r){case"completed":return p.filter((function(e){return e.complete}));case"active":return p.filter((function(e){return!e.complete}));default:return p}}),[r,p]),C=Object(n.useCallback)((function(){x((function(e){return e.filter((function(e){return!e.complete}))}))}),[]);return Object(j.jsx)(u.Provider,{value:{todos:p,setTodos:x,inputText:c,setInputText:o,filterTodos:v,getChangeTitle:g},children:Object(j.jsxs)("section",{className:"todoapp",children:[Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{children:"Todos"}),Object(j.jsx)(d,{})]}),Object(j.jsx)("section",{className:"main",children:Object(j.jsx)(f,{})}),Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)(O,{setFilterStatus:b,clearCompleted:C})})]})})};s.a.render(Object(j.jsx)(m,{}),document.getElementById("root"))},7:function(e,t,c){},8:function(e,t,c){}},[[17,1,2]]]);
//# sourceMappingURL=main.845fb141.chunk.js.map