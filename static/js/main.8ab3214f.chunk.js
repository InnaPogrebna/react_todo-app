(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),l=c(9),a=c.n(l),s=(c(7),c(8),c(15),c(3)),i=c(2),r=c(10),u=o.a.createContext(),j=c(0),d=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],o=t[1],l=Object(n.useContext)(u),a=l.setTodos,s=l.todos;return Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),a([].concat(Object(r.a)(s),[{id:(new Date).toLocaleTimeString(),title:c,complete:!1}])),o("")},children:Object(j.jsx)("input",{type:"text",className:"new-todo",value:c,placeholder:"What needs to be done?",onChange:function(e){o(e.target.value)}})})},b=function(e){var t=e.item,c=(e.isChecked,e.setEditing),o=Object(n.useContext)(u),l=o.setTodos,a=o.todos,r=o.getChangeTitle,d=Object(n.useState)(""),b=Object(i.a)(d,2),f=b[0],O=b[1],m=function(e){e.preventDefault(),r(t.id,f),c(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{type:"checkbox",name:"check",checked:t.complete,className:"toggle",id:"toggle-view",onChange:function(){l(a.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{complete:!e.complete}):e})))}}),Object(j.jsx)("label",{htmlFor:"toggle-view",onDoubleClick:function(e){c(!0)},children:t.title}),Object(j.jsx)("button",{type:"button",className:"destroy",onClick:function(){l(a.filter((function(e){return e.id!==t.id})))}})]}),Object(j.jsx)("input",{type:"text",className:"edit",value:f,id:"".concat(t.id),onChange:function(e){O(e.target.value)},onBlur:function(e){m(e)},onKeyDown:function(e){!function(e){switch(e.key){case"Enter":m(e);break;case"Escape":case"Esc":c(!1),O(t.title)}}(e)}})]})},f=function(){var e=Object(n.useContext)(u),t=e.filterTodos,c=e.todos,o=e.setTodos,l=Object(n.useState)(!1),a=Object(i.a)(l,2),r=a[0],d=a[1],f=Object(n.useState)(!1),O=Object(i.a)(f,2),m=O[0],h=O[1];return Object(n.useEffect)((function(){o(c.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{complete:r})})))}),[r]),Object(j.jsxs)(j.Fragment,{children:[c.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:function(){d(!r)}}),Object(j.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"})]}),Object(j.jsx)("ul",{className:"todo-list",children:t.map((function(e){return Object(j.jsx)("li",{className:"\n          ".concat(m?"editing":"","\n          ").concat(e.complete?"completed":"","\n          "),children:Object(j.jsx)(b,{item:e,setEditing:h})},e.id)}))})]})},O=function(e){var t=e.setFilterStatus,c=e.clearCompleted,o=e.filterStatus,l=Object(n.useState)([]),a=Object(i.a)(l,2),s=a[0],r=a[1],d=Object(n.useContext)(u).todos,b=function(e){return o===e?"selected":""};return Object(n.useEffect)((function(){r(d.filter((function(e){return!e.complete})))}),[d]),Object(j.jsxs)(j.Fragment,{children:[s.length>0&&Object(j.jsxs)("span",{className:"todo-count",children:[s.length," ","items left"]}),Object(j.jsxs)("ul",{className:"filters",children:[Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/",className:b("all"),onClick:function(){return t("all")},children:"All"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/active",className:b("active"),onClick:function(){return t("active")},children:"Active"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/completed",className:b("completed"),onClick:function(){return t("completed")},children:"Completed"})})]}),s.length!==d.length&&Object(j.jsx)("button",{type:"button",className:"clear-completed",onClick:c,children:"Clear completed"})]})};var m=function(){var e=Object(n.useState)("all"),t=Object(i.a)(e,2),c=t[0],o=t[1],l=Object(n.useState)([]),a=Object(i.a)(l,2),r=a[0],b=a[1];Object(n.useEffect)((function(){null===localStorage.getItem("todos")&&localStorage.setItem("todos",JSON.stringify([])),b(JSON.parse(localStorage.getItem("todos")))}),[]),Object(n.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(r))}),[r]);var m=Object(n.useCallback)((function(e,t){b((function(c){return c.map((function(c){return c.id===e&&t.length>0?Object(s.a)(Object(s.a)({},c),{},{title:t}):c}))}))}),[]),h=Object(n.useMemo)((function(){switch(c){case"completed":return r.filter((function(e){return e.complete}));case"active":return r.filter((function(e){return!e.complete}));default:return r}}),[c,r]),p=Object(n.useCallback)((function(){b((function(e){return e.filter((function(e){return!e.complete}))}))}),[]);return Object(j.jsx)(u.Provider,{value:{todos:r,setTodos:b,filterTodos:h,getChangeTitle:m},children:Object(j.jsxs)("section",{className:"todoapp",children:[Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{children:"Todos"}),Object(j.jsx)(d,{})]}),Object(j.jsx)("section",{className:"main",children:Object(j.jsx)(f,{})}),0!==r.length&&Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)(O,{setFilterStatus:o,clearCompleted:p,filterStatus:c})})]})})};a.a.render(Object(j.jsx)(m,{}),document.getElementById("root"))},7:function(e,t,c){},8:function(e,t,c){}},[[17,1,2]]]);
//# sourceMappingURL=main.8ab3214f.chunk.js.map